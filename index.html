<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ËÅñË™ï‰∏äÊµ∑‰πãÊóÖ 2025</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Yomogi&family=Noto+Sans+SC:wght@400;700;900&family=Noto+Sans+TC:wght@400;500;700;900&family=Caveat:wght@700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        scheme1: { 
                            neonPink: '#FF7EE2',   
                            neonCyan: '#22D3EE',   
                            neonGold: '#FDE047',   
                            deepBlue: '#0F172A',
                            textMain: '#FFFFFF',
                            textSub: '#E2E8F0',
                        }
                    },
                    fontFamily: { 
                        sans: ['Noto Sans TC', 'sans-serif'],
                        hand: ['Caveat', 'cursive'], 
                        deco: ['Yomogi', 'cursive'], 
                        heiti: ['Noto Sans SC', 'Heiti SC', 'SimHei', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        html, body {
            height: 100%;
            height: 100dvh;
            overflow: hidden;
            overscroll-behavior: none;
            background-color: #0F172A;
            color: #FFFFFF;
        }
        
        #app {
            height: 100%;
            height: 100dvh;
            width: 100%;
            display: flex;
            justify-content: center;
        }

        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-fade-in { animation: fadeIn 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
        .animate-spin-slow { animation: spin 10s linear infinite; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.08); 
            backdrop-filter: blur(12px);            
            border: 1px solid rgba(255, 255, 255, 0.25); 
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        }
        
        .glass-nav {
            background: rgba(15, 23, 42, 0.6); 
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 -4px 30px rgba(0, 0, 0, 0.5);
        }

        .glass-deco {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 15px rgba(255, 126, 226, 0.5);
        }

        .glass-modal {
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(20px);
        }

        .text-glow { text-shadow: 0 0 8px rgba(255, 255, 255, 0.9); }
        .text-glow-pink { text-shadow: 0 0 10px rgba(255, 126, 226, 0.9); }
        .text-glow-gold { text-shadow: 0 0 10px rgba(253, 224, 71, 0.9); }
        .text-glow-cyan { text-shadow: 0 0 10px rgba(34, 211, 238, 0.9); }

        /* --- ‰øÆÊîπ‰∫ÜÈÄôË£°ÁöÑËÉåÊôØË®≠ÂÆö --- */
        .aurora-bg {
            background-color: #0F172A;
            /* ‰ΩøÁî® Unsplash ÁöÑ‰∏äÊµ∑ÂúñÁâáÔºå‰∏¶ÁñäÂä†‰∏ÄÂÄãËóçÁ¥´Ëâ≤ÁöÑÂçäÈÄèÊòéÊº∏ËÆäÂ±§‰ª•Á¢∫‰øùÊñáÂ≠óÂèØËÆÄÊÄß */
            background-image: 
                linear-gradient(to bottom, rgba(15, 23, 42, 0.6), rgba(58, 13, 99, 0.7)),
                url('https://images.unsplash.com/photo-1506353266980-73cbe71050dc?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        /* --------------------------- */

        .sortable-ghost { opacity: 0.3; }
        .sortable-drag { cursor: grabbing; background: rgba(255,255,255,0.2); }
    </style>
</head>
<body>
    <div id="app" class="font-sans font-medium text-scheme1-textMain">
        <div class="w-full max-w-md h-full relative shadow-2xl flex flex-col overflow-hidden bg-transparent">
            
            <div class="absolute inset-0 z-0 aurora-bg pointer-events-none">
                <div class="absolute top-[-10%] right-[-15%] w-[400px] h-[400px] bg-scheme1-neonPink/20 rounded-full blur-[80px]"></div>
                <div class="absolute bottom-[-10%] left-[-15%] w-[350px] h-[350px] bg-scheme1-neonCyan/15 rounded-full blur-[80px]"></div>
                <div class="absolute top-[30%] left-[20%] w-[150px] h-[150px] bg-purple-500/20 rounded-full blur-[60px]"></div>
            </div>

            <header class="bg-transparent text-white p-2 pt-7 shadow-none z-10 flex justify-between items-center relative flex-shrink-0">
                <div class="relative z-10 flex flex-col justify-center h-full w-full pl-2">
                    <h2 class="text-lg tracking-normal opacity-100 text-scheme1-neonPink mb-0 font-deco font-black rotate-1 drop-shadow-md leading-none text-glow-pink">Wayne & Chloe | Shanghai 2025</h2>
                    <h1 class="text-xl font-deco tracking-tight text-white drop-shadow-lg font-bold mt-1 text-glow">
                        üéÑ ËÅñË™ï‰∏äÊµ∑‰πãÊóÖ ‚ú®
                    </h1>
                </div>
                <div class="w-9 h-9 glass-deco rounded-full flex items-center justify-center shadow-inner flex-shrink-0 mr-2 border border-white/30">
                    <i class="fa-solid fa-plane-up text-white animate-bounce text-xs drop-shadow-md"></i>
                </div>
            </header>

            <main class="flex-1 overflow-y-auto scrollbar-hide p-4 pb-24 space-y-5 relative z-10">
                
                <div v-if="currentTab === 'flight'" class="animate-fade-in space-y-4">
                    <h3 class="font-bold text-xl pl-3 border-l-4 border-scheme1-neonPink text-white text-glow">‚úàÔ∏è Ëà™Áè≠Ë≥áË®ä</h3>
                    
                    <div class="glass-card rounded-2xl p-4 relative overflow-hidden group">
                        <div class="absolute top-3 left-3 bg-scheme1-neonPink/20 border border-scheme1-neonPink/80 text-scheme1-neonPink text-xs px-2.5 py-0.5 rounded-full font-bold tracking-widest shadow-[0_0_15px_rgba(255,126,226,0.4)]">ÂéªÁ®ã OUTBOUND</div>
                        <div class="mt-8 flex justify-between items-center mb-4">
                            <div class="text-center w-1/3"><div class="text-5xl font-black text-white tracking-tighter drop-shadow-lg font-heiti text-glow">HKG</div><div class="text-sm text-scheme1-neonGold font-bold mt-1 tracking-wide">È¶ôÊ∏Ø T1</div></div>
                            <div class="flex-1 px-2 text-center flex flex-col items-center"><div class="text-xs text-scheme1-neonPink font-bold">{{ myData.flightOut.airline }}</div><i class="fa-solid fa-plane text-white text-xl block my-1 drop-shadow-md"></i><div class="border-b-2 border-dotted border-white/40 w-full h-1"></div><div class="text-xs text-scheme1-textSub mt-1 font-bold">{{ myData.flightOut.no }}</div></div>
                            <div class="text-center w-1/3"><div class="text-5xl font-black text-white tracking-tighter drop-shadow-lg font-heiti text-glow">PVG</div><div class="text-sm text-scheme1-neonGold font-bold mt-1 tracking-wide">‰∏äÊµ∑Êµ¶Êù± T1</div></div>
                        </div>
                        <div class="bg-white/5 rounded-xl p-3 flex justify-between items-start text-sm border border-white/20">
                            <div><span class="text-xs text-scheme1-textSub/80 font-bold block">Date</span>{{ myData.flightOut.date }}</div>
                            <div class="flex gap-4">
                                <div class="text-right"><span class="text-xs text-scheme1-textSub/80 font-bold block">Dep</span><span class="font-bold text-scheme1-neonPink text-xl">{{ myData.flightOut.dep }}</span></div>
                                <div class="text-right"><span class="text-xs text-scheme1-textSub/80 font-bold block">Arr</span><span class="font-bold text-scheme1-neonPink text-xl">{{ myData.flightOut.arr }}</span></div>
                            </div>
                        </div>
                    </div>

                    <div class="glass-card rounded-2xl p-4 relative overflow-hidden group">
                        <div class="absolute top-3 left-3 bg-scheme1-neonCyan/20 border border-scheme1-neonCyan/80 text-scheme1-neonCyan text-xs px-2.5 py-0.5 rounded-full font-bold tracking-widest shadow-[0_0_15px_rgba(34,211,238,0.4)]">ÂõûÁ®ã INBOUND</div>
                        <div class="mt-8 flex justify-between items-center mb-4">
                            <div class="text-center w-1/3"><div class="text-5xl font-black text-white tracking-tighter drop-shadow-lg font-heiti text-glow">PVG</div><div class="text-sm text-scheme1-neonGold font-bold mt-1 tracking-wide">‰∏äÊµ∑Êµ¶Êù± T1</div></div>
                            <div class="flex-1 px-2 text-center flex flex-col items-center"><div class="text-xs text-scheme1-neonCyan font-bold">{{ myData.flightIn.airline }}</div><i class="fa-solid fa-plane text-white text-xl block my-1 rotate-180 drop-shadow-md"></i><div class="border-b-2 border-dotted border-white/40 w-full h-1"></div><div class="text-xs text-scheme1-textSub mt-1 font-bold">{{ myData.flightIn.no }}</div></div>
                            <div class="text-center w-1/3"><div class="text-5xl font-black text-white tracking-tighter drop-shadow-lg font-heiti text-glow">HKG</div><div class="text-sm text-scheme1-neonGold font-bold mt-1 tracking-wide">È¶ôÊ∏Ø T1</div></div>
                        </div>
                        <div class="bg-white/5 rounded-xl p-3 flex justify-between items-start text-sm border border-white/20">
                            <div><span class="text-xs text-scheme1-textSub/80 font-bold block">Date</span>{{ myData.flightIn.date }}</div>
                            <div class="flex gap-4">
                                <div class="text-right"><span class="text-xs text-scheme1-textSub/80 font-bold block">Dep</span><span class="font-bold text-scheme1-neonCyan text-xl">{{ myData.flightIn.dep }}</span></div>
                                <div class="text-right"><span class="text-xs text-scheme1-textSub/80 font-bold block">Arr</span><span class="font-bold text-scheme1-neonCyan text-xl">{{ myData.flightIn.arr }}</span><span class="text-[10px] text-scheme1-neonPink block mt-0.5 font-bold text-glow-pink">+1 Day</span></div>
                            </div>
                        </div>
                    </div>

                    <div class="glass-card rounded-xl p-4">
                        <h4 class="text-base font-bold text-white mb-3 flex items-center text-glow"><i class="fa-solid fa-suitcase-rolling mr-2 text-scheme1-neonGold"></i> Ë°åÊùéÈôêÈ°ç</h4>
                        <div class="flex flex-col gap-3">
                            <div class="bg-white/5 rounded-lg p-3 flex items-center shadow-sm border border-white/10">
                                <div class="w-10 text-center flex-shrink-0"><i class="fa-solid fa-suitcase text-scheme1-neonPink text-2xl drop-shadow-md"></i></div>
                                <div class="flex-1 ml-2 border-l border-white/20 pl-3">
                                    <div class="flex justify-between items-center"><span class="font-bold text-white text-sm">Ë®óÈÅãË°åÊùé</span><span class="text-[10px] bg-scheme1-neonPink/20 text-scheme1-neonPink border border-scheme1-neonPink/40 px-2 py-0.5 rounded shadow-sm font-bold">1‰ª∂</span></div>
                                    <div class="text-xs text-scheme1-textSub mt-1 font-bold"><i class="fa-solid fa-weight-scale text-[10px] mr-1"></i>23kg <span class="mx-1 text-white/30">|</span> 158cm</div>
                                </div>
                            </div>
                            <div class="bg-white/5 rounded-lg p-3 flex items-center shadow-sm border border-white/10">
                                <div class="w-10 text-center flex-shrink-0"><i class="fa-solid fa-briefcase text-scheme1-neonCyan text-2xl drop-shadow-md"></i></div>
                                <div class="flex-1 ml-2 border-l border-white/20 pl-3">
                                    <div class="flex justify-between items-center"><span class="font-bold text-white text-sm">ÊâãÊèêË°åÊùé</span><span class="text-[10px] bg-scheme1-neonCyan/20 text-scheme1-neonCyan border border-scheme1-neonCyan/40 px-2 py-0.5 rounded shadow-sm font-bold">1‰ª∂</span></div>
                                    <div class="text-xs text-scheme1-textSub mt-1 font-bold">8kg <span class="mx-1 text-white/30">|</span> 20x40x55cm</div>
                                </div>
                            </div>
                            <div class="bg-white/5 rounded-lg p-3 flex items-center shadow-sm border border-white/10">
                                <div class="w-10 text-center flex-shrink-0"><i class="fa-solid fa-bag-shopping text-scheme1-neonGold text-2xl drop-shadow-md"></i></div>
                                <div class="flex-1 ml-2 border-l border-white/20 pl-3">
                                    <div class="flex justify-between items-center"><span class="font-bold text-white text-sm">Èö®Ë∫´Áâ©ÂìÅ</span><span class="text-[10px] bg-scheme1-neonGold/20 text-scheme1-neonGold border border-scheme1-neonGold/40 px-2 py-0.5 rounded shadow-sm font-bold">1‰ª∂</span></div>
                                    <div class="text-xs text-scheme1-textSub mt-1 font-bold">Â∞èÂûãÊâãË¢ã / Á≠ÜÈõªÂåÖ</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div v-if="currentTab === 'schedule'" class="animate-fade-in space-y-4">
                    
                    <div class="flex overflow-x-auto space-x-3 pb-1 scrollbar-hide px-1">
                        <button v-for="(day, index) in myData.days" :key="index" @click="currentDayIndex = index" 
                            :class="currentDayIndex === index ? 'bg-scheme1-neonPink text-white shadow-[0_0_15px_rgba(255,126,226,0.6)] border-transparent scale-105' : 'glass-card text-scheme1-textSub border-white/20'"
                            class="flex-shrink-0 px-5 py-2.5 rounded-xl flex flex-col items-center min-w-[75px] transition-all duration-300 backdrop-blur-sm">
                            <span class="text-xs uppercase tracking-wider font-bold">Day {{ index + 1 }}</span>
                            <span class="font-black text-xl leading-tight">{{ day.dateShort }}</span>
                        </button>
                    </div>

                    <div>
                        <h3 class="font-bold text-lg mb-4 text-white flex items-center justify-between opacity-90 pl-1 text-glow">
                            <div><span class="text-scheme1-neonPink mr-2"><i class="fa-solid fa-calendar-day"></i></span>{{ myData.days[currentDayIndex].date }}</div>
                            <span class="text-[10px] bg-white/10 px-2 py-1 rounded text-gray-300"><i class="fa-solid fa-arrows-up-down mr-1"></i>Èï∑ÊåâÊãñÊõ≥</span>
                        </h3>
                        
                        <div class="relative pl-4">
                            <div class="absolute left-[3.5px] top-2 bottom-0 w-[2px] bg-white/20 rounded-full"></div>
                            
                            <div ref="sortableList" class="space-y-3">
                                <div v-for="(item, idx) in myData.days[currentDayIndex].events" :key="item.id" 
                                     @click="openEditModal(idx)"
                                     class="relative group cursor-pointer active:cursor-grabbing">
                                    
                                    <div class="absolute -left-[17px] top-3 w-3 h-3 bg-scheme1-deepBlue border-[3px] border-scheme1-neonPink rounded-full z-10 shadow-[0_0_10px_rgba(255,126,226,0.5)]"></div>
                                    
                                    <div class="glass-card rounded-xl p-0 transition-all duration-300 relative overflow-hidden z-0 hover:bg-white/10 hover:border-scheme1-neonPink/40">
                                        
                                        <div v-if="item.img" class="h-20 w-full relative overflow-hidden">
                                            <img :src="item.img" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                                            <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent"></div>
                                            <div class="absolute bottom-1.5 left-2.5 right-3 flex justify-between items-end z-10">
                                                <div class="flex items-center gap-2">
                                                    <span class="bg-scheme1-neonPink text-scheme1-deepBlue font-bold text-[10px] px-1.5 py-0.5 rounded shadow">{{ item.time }}</span>
                                                    <div class="flex items-center text-white text-[10px] gap-1 font-bold" v-if="item.weather">
                                                        <i :class="getWeatherIcon(item.weather)"></i><span>{{ item.temp }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div v-else class="p-2.5 pb-0 flex justify-between items-center mb-1">
                                            <span class="bg-scheme1-neonPink/20 text-scheme1-neonPink font-bold text-[10px] px-2 py-0.5 rounded-full border border-scheme1-neonPink/30">{{ item.time }}</span>
                                            <div class="flex items-center text-scheme1-textSub text-[10px] gap-1.5 font-bold" v-if="item.weather">
                                                <i :class="getWeatherIcon(item.weather)"></i><span>{{ item.temp }}</span>
                                            </div>
                                        </div>
                                        
                                        <div class="p-2.5 pt-1.5 relative">
                                            <h4 class="font-bold text-base text-white mb-0.5 drop-shadow-md">{{ item.title }}</h4>
                                            
                                            <p class="text-xs text-scheme1-textSub/90 mb-1 leading-snug font-bold line-clamp-2">{{ item.desc }}</p>
                                            
                                            <div class="flex justify-between items-end mt-1">
                                                <p v-if="item.addr" class="text-[10px] text-scheme1-neonCyan flex items-center truncate max-w-[65%]"><i class="fa-solid fa-location-dot mr-1"></i>{{ item.addr }}</p>
                                                
                                                <a :href="'https://www.google.com/maps/search/?api=1&query=' + (item.addr || item.location)" target="_blank" @click.stop class="w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-scheme1-neonCyan hover:bg-scheme1-neonCyan hover:text-white transition-colors shadow-sm border border-white/10">
                                                    <i class="fa-solid fa-diamond-turn-right text-[10px]"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <button @click="openAddModal" class="w-full py-3 mt-4 mb-4 rounded-xl border-2 border-dashed border-scheme1-neonPink/30 text-scheme1-neonPink/70 hover:bg-scheme1-neonPink/10 hover:border-scheme1-neonPink hover:text-scheme1-neonPink transition-all font-bold flex items-center justify-center gap-2">
                                <i class="fa-solid fa-plus"></i> Êñ∞Â¢ûË°åÁ®ã
                            </button>
                        </div>
                    </div>
                </div>

                <div v-if="currentTab === 'map'" class="animate-fade-in h-full flex flex-col items-center justify-center pt-10 pb-20">
                    <div class="glass-card p-6 rounded-3xl mb-6 animate-bounce relative backdrop-blur-xl border border-scheme1-neonPink/40 shadow-[0_0_30px_rgba(255,126,226,0.3)]">
                         <div class="absolute inset-0 bg-scheme1-neonPink/10 rounded-3xl blur-xl -z-10"></div>
                        <i class="fa-solid fa-map-location-dot text-7xl text-scheme1-neonPink drop-shadow-[0_0_15px_rgba(255,126,226,0.6)]"></i>
                    </div>
                    <h3 class="font-bold text-2xl text-white mb-2 drop-shadow-sm text-glow">üó∫Ô∏è Êé¢Á¥¢‰∏äÊµ∑</h3>
                    <p class="text-scheme1-textSub text-base text-center leading-relaxed font-bold">ÈªûÊìäË°åÁ®ã‰∏≠ÁöÑÂú∞Èªû<br>ÈñãÂïü Google Maps Â∞éËà™</p>
                </div>

                <div v-if="currentTab === 'shops'" class="animate-fade-in">
                    <h3 class="font-bold text-xl mb-4 pl-3 border-l-4 border-scheme1-neonPink text-white opacity-90 text-glow">üõçÔ∏è ÂøÖÈÄõÂ∫óËàñ & ÁæéÈ£ü</h3>
                    <div class="space-y-4">
                        <div v-for="(shop, idx) in myData.shops" :key="idx" class="glass-card rounded-2xl p-4 flex items-center relative overflow-hidden group hover:border-scheme1-neonPink/50 transition-colors">
                            <div :class="shop.color" class="w-12 h-12 rounded-full bg-white/5 border border-white/20 flex items-center justify-center flex-shrink-0 text-lg group-hover:scale-110 transition-transform shadow-inner">
                                <i :class="['fa-solid', shop.icon]"></i>
                            </div>
                            <div class="flex-1 ml-4 mr-2">
                                <div class="flex items-center gap-2 mb-1">
                                    <h4 class="font-bold text-white text-lg drop-shadow-sm">{{ shop.name }}</h4>
                                    <span v-if="shop.tag" class="text-[10px] bg-scheme1-neonPink/10 text-scheme1-neonPink px-1.5 py-0.5 rounded border border-scheme1-neonPink/20 font-bold">{{ shop.tag }}</span>
                                </div>
                                <div class="flex items-center text-xs text-scheme1-textSub gap-2 font-bold">
                                    <span><i class="fa-solid fa-location-dot text-[10px] mr-1"></i>{{ shop.area }}</span>
                                    <span class="w-1.5 h-1.5 rounded-full bg-white/30"></span>
                                    <span>{{ shop.type }}</span>
                                </div>
                            </div>
                            <div class="flex flex-col items-end justify-center">
                                <a :href="'https://www.google.com/maps/search/?api=1&query=' + shop.name" target="_blank" class="w-9 h-9 rounded-full bg-white/5 flex items-center justify-center text-scheme1-neonPink hover:bg-scheme1-neonPink hover:text-white transition-colors shadow-sm border border-white/10">
                                    <i class="fa-solid fa-diamond-turn-right text-sm"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div v-if="currentTab === 'hotel'" class="animate-fade-in space-y-4">
                    <h3 class="font-bold text-xl pl-3 border-l-4 border-scheme1-neonCyan text-white opacity-90 text-glow">üè® ‰ΩèÂÆøË≥áË®ä</h3>
                    <div class="glass-card rounded-2xl overflow-hidden">
                        <div class="h-48 relative flex items-end overflow-hidden group">
                            <img :src="myData.hotel.image" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 opacity-70" alt="Hotel Room">
                            <div class="absolute inset-0 bg-gradient-to-t from-scheme1-deepBlue via-scheme1-deepBlue/40 to-transparent"></div>
                            <div class="relative z-10 p-5 w-full text-white">
                                <div class="absolute top-4 right-4 bg-scheme1-neonPink/80 backdrop-blur-md text-white text-xs font-bold px-3 py-1 rounded-full shadow-[0_0_15px_rgba(255,126,226,0.6)] border border-white/20">
                                    4Êôö ‚ú®
                                </div>
                                <h2 class="text-2xl font-black leading-tight mb-1 text-white shadow-sm text-glow">{{ myData.hotel.name }}</h2>
                                <p class="text-sm text-white/90 font-bold truncate">{{ myData.hotel.engName }}</p>
                            </div>
                        </div>
                        <div class="p-5">
                            <div class="flex gap-2 mb-4 overflow-x-auto scrollbar-hide">
                                <span class="text-xs bg-white/5 text-scheme1-textSub px-2.5 py-1.5 rounded-md flex-shrink-0 border border-white/20 font-bold hover:bg-white/10 transition-colors"><i class="fa-solid fa-dumbbell mr-1"></i>ÂÅ•Ë∫´Êàø</span>
                                <span class="text-xs bg-white/5 text-scheme1-textSub px-2.5 py-1.5 rounded-md flex-shrink-0 border border-white/20 font-bold hover:bg-white/10 transition-colors"><i class="fa-solid fa-person-swimming mr-1"></i>ÊÅÜÊ∫´Ê≥≥Ê±†</span>
                                <span class="text-xs bg-white/5 text-scheme1-textSub px-2.5 py-1.5 rounded-md flex-shrink-0 border border-white/20 font-bold hover:bg-white/10 transition-colors"><i class="fa-solid fa-wifi mr-1"></i>ÂÖçË≤ªWiFi</span>
                            </div>
                            <div class="bg-white/5 rounded-xl p-3 mb-4 flex items-start border border-white/10">
                                <i class="fa-solid fa-location-dot text-scheme1-neonCyan mt-1 mr-2.5 text-lg drop-shadow-[0_0_5px_rgba(34,211,238,0.8)]"></i>
                                <div class="flex-1">
                                    <p class="text-base text-white font-bold mb-1 leading-snug">{{ myData.hotel.address }}</p>
                                    <a :href="'https://www.google.com/maps/search/?api=1&query=' + myData.hotel.name" target="_blank" class="text-xs text-scheme1-neonPink font-bold flex items-center gap-1 hover:underline">
                                        ÈñãÂïü Google Maps <i class="fa-solid fa-arrow-up-right-from-square text-[10px]"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-3 text-center">
                                <div class="bg-white/5 rounded-lg p-3 border border-white/10">
                                    <div class="text-xs text-scheme1-textSub mb-1 uppercase tracking-wide font-black">Check-in</div>
                                    <div class="font-bold text-scheme1-neonPink text-xl text-glow-pink">14:00</div>
                                    <div class="text-xs text-scheme1-textSub mt-1 font-bold">{{ myData.hotel.checkIn }}</div>
                                </div>
                                <div class="bg-white/5 rounded-lg p-3 border border-white/10">
                                    <div class="text-xs text-scheme1-textSub mb-1 uppercase tracking-wide font-black">Check-out</div>
                                    <div class="font-bold text-scheme1-neonCyan text-xl text-glow-cyan">12:00</div>
                                    <div class="text-xs text-scheme1-textSub mt-1 font-bold">{{ myData.hotel.checkOut }}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </main>

            <nav class="glass-nav h-16 px-1 flex justify-evenly items-center z-20 rounded-t-[2rem] pb-1 relative flex-shrink-0">
                <button @click="currentTab = 'flight'" :class="currentTab === 'flight' ? 'text-scheme1-neonPink drop-shadow-[0_0_8px_rgba(255,126,226,0.8)]' : 'text-scheme1-textSub/40 hover:text-scheme1-textSub'" class="flex flex-col items-center w-14 transition-colors">
                    <i class="fa-solid fa-plane-departure text-2xl mb-0.5"></i><span class="text-[10px] tracking-wide font-bold">Ëà™Áè≠</span>
                </button>
                <button @click="currentTab = 'schedule'" :class="currentTab === 'schedule' ? 'text-scheme1-neonPink drop-shadow-[0_0_8px_rgba(255,126,226,0.8)]' : 'text-scheme1-textSub/40 hover:text-scheme1-textSub'" class="flex flex-col items-center w-14 transition-colors">
                    <i class="fa-solid fa-clipboard-list text-2xl mb-0.5"></i><span class="text-[10px] tracking-wide font-bold">Ë°åÁ®ã</span>
                </button>
                <div class="-mt-8 relative z-10">
                    <button @click="currentTab = 'map'" class="bg-scheme1-deepBlue text-scheme1-neonPink w-14 h-14 rounded-full shadow-[0_0_20px_rgba(255,126,226,0.4)] border-2 border-scheme1-neonPink/50 flex items-center justify-center backdrop-blur-sm transform active:scale-95 transition-all">
                        <i class="fa-solid fa-map text-3xl animate-pulse drop-shadow-[0_0_5px_rgba(255,126,226,1)]"></i>
                    </button>
                </div>
                <button @click="currentTab = 'shops'" :class="currentTab === 'shops' ? 'text-scheme1-neonPink drop-shadow-[0_0_8px_rgba(255,126,226,0.8)]' : 'text-scheme1-textSub/40 hover:text-scheme1-textSub'" class="flex flex-col items-center w-14 transition-colors">
                    <i class="fa-solid fa-store text-2xl mb-0.5"></i><span class="text-[10px] tracking-wide font-bold">Â∫óËàñ</span>
                </button>
                <button @click="currentTab = 'hotel'" :class="currentTab === 'hotel' ? 'text-scheme1-neonPink drop-shadow-[0_0_8px_rgba(255,126,226,0.8)]' : 'text-scheme1-textSub/40 hover:text-scheme1-textSub'" class="flex flex-col items-center w-14 transition-colors">
                    <i class="fa-solid fa-bed text-2xl mb-0.5"></i><span class="text-[10px] tracking-wide font-bold">‰ΩèÂÆø</span>
                </button>
            </nav>

            <div v-if="showModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in glass-modal">
                <div class="glass-card w-full max-w-sm rounded-3xl p-6 relative flex flex-col max-h-[90vh] overflow-hidden border border-scheme1-neonPink/50">
                    <h3 class="text-2xl font-bold text-center mb-4 text-glow-pink">{{ isEditing ? 'Á∑®ËºØË°åÁ®ã' : 'Êñ∞Â¢ûË°åÁ®ã' }}</h3>
                    
                    <div class="overflow-y-auto space-y-4 pr-1 scrollbar-hide flex-1">
                        <div>
                            <label class="text-xs text-scheme1-neonCyan font-bold uppercase">ÊôÇÈñì</label>
                            <input v-model="modalData.time" type="text" class="w-full bg-white/10 border border-white/20 rounded-lg p-2 text-white focus:border-scheme1-neonPink outline-none mt-1">
                        </div>
                        <div>
                            <label class="text-xs text-scheme1-neonCyan font-bold uppercase">Ê®ôÈ°å</label>
                            <input v-model="modalData.title" type="text" class="w-full bg-white/10 border border-white/20 rounded-lg p-2 text-white focus:border-scheme1-neonPink outline-none mt-1">
                        </div>
                        <div>
                            <label class="text-xs text-scheme1-neonCyan font-bold uppercase">ÊèèËø∞</label>
                            <textarea v-model="modalData.desc" rows="3" class="w-full bg-white/10 border border-white/20 rounded-lg p-2 text-white focus:border-scheme1-neonPink outline-none mt-1 resize-none scrollbar-hide"></textarea>
                        </div>
                        <div>
                            <label class="text-xs text-scheme1-neonCyan font-bold uppercase">Âú∞Èªû/Âú∞ÂùÄ</label>
                            <input v-model="modalData.addr" type="text" class="w-full bg-white/10 border border-white/20 rounded-lg p-2 text-white focus:border-scheme1-neonPink outline-none mt-1">
                        </div>
                         <div>
                            <label class="text-xs text-scheme1-neonCyan font-bold uppercase">ÂúñÁâá URL (ÈÅ∏Â°´)</label>
                            <input v-model="modalData.img" type="text" class="w-full bg-white/10 border border-white/20 rounded-lg p-2 text-white focus:border-scheme1-neonPink outline-none mt-1" placeholder="https://...">
                        </div>
                    </div>

                    <div class="flex gap-3 mt-6 pt-4 border-t border-white/10">
                        <button @click="closeModal" class="flex-1 py-2.5 rounded-xl border border-white/30 text-white hover:bg-white/10 transition-colors font-bold">ÂèñÊ∂à</button>
                        <button @click="saveEvent" class="flex-1 py-2.5 rounded-xl bg-scheme1-neonPink text-scheme1-deepBlue hover:bg-scheme1-neonPink/90 transition-colors font-bold shadow-[0_0_15px_rgba(255,126,226,0.4)]">{{ isEditing ? 'ÂÑ≤Â≠òËÆäÊõ¥' : 'Êñ∞Â¢û' }}</button>
                    </div>
                    <button v-if="isEditing" @click="deleteEvent" class="absolute top-4 right-4 text-white/50 hover:text-red-500 transition-colors"><i class="fa-solid fa-trash"></i></button>
                </div>
            </div>

        </div>
    </div>

    <script>
        const { createApp, ref, computed, onMounted, nextTick } = Vue;

        createApp({
            setup() {
                const currentTab = ref('flight');
                const currentDayIndex = ref(0);
                const showModal = ref(false);
                const isEditing = ref(false);
                const editingEventIndex = ref(null);
                const sortableList = ref(null);
                let sortableInstance = null;

                const modalData = ref({
                    time: '',
                    title: '',
                    desc: '',
                    addr: '',
                    img: '',
                    location: ''
                });

                const myData = ref({
                    flightOut: { date: '2025-12-24 (Wed)', dep: '10:00', arr: '12:30', airline: 'Cathay Pacific', no: 'CX360' },
                    flightIn: { date: '2025-12-28 (Sun)', dep: '18:00', arr: '20:30', airline: 'Cathay Pacific', no: 'CX369' },
                    hotel: {
                        name: '‰∏äÊµ∑ËâæËø™ÈÅúÈÖíÂ∫ó',
                        engName: 'The Shanghai EDITION',
                        address: '‰∏äÊµ∑Â∏ÇÈªÉÊµ¶ÂçÄÂçó‰∫¨Êù±Ë∑Ø199Ëôü',
                        image: 'https://cf.bstatic.com/xdata/images/hotel/max1024x768/164662377.jpg?k=a053307176565505640630667173261407014705431126275316043625645223&o=&hp=1',
                        checkIn: '12-24 (Wed)',
                        checkOut: '12-28 (Sun)'
                    },
                    shops: [
                        { name: 'Speak Low', type: 'ÈÖíÂêß', area: 'ÂæêÂåØÂçÄ', icon: 'martini-glass-citrus', color: 'text-scheme1-neonPink', tag: '‰∫ûÊ¥≤Ââç50' },
                        { name: 'RAC Bar', type: 'Êó©ÂçàÈ§ê', area: 'ÂæêÂåØÂçÄ', icon: 'utensils', color: 'text-scheme1-neonCyan', tag: 'Á∂≤Á¥ÖÂ∫ó' },
                        { name: 'Luneurs', type: 'ÁîúÈªû', area: 'Â§öÂçÄ', icon: 'ice-cream', color: 'text-scheme1-neonGold', tag: 'ÁÑ¶Á≥ñÊµ∑ÈπΩ' },
                        { name: 'Short Sentence', type: 'ÊúçÈ£æ', area: 'ÂÆâÁ¶èË∑Ø', icon: 'shirt', color: 'text-scheme1-neonPink' }
                    ],
                    days: [
                        {
                            date: '12Êúà24Êó• (‰∏â)', dateShort: '24 DEC',
                            events: [
                                { id: 1, time: '13:30', title: 'ÊäµÈÅî & Check-in', desc: 'Ëæ¶ÁêÜÂÖ•‰ΩèÊâãÁ∫åÔºåÁ®ç‰Ωú‰ºëÊÅØ', location: 'The Shanghai EDITION', icon: 'hotel', addr: 'Âçó‰∫¨Êù±Ë∑Ø199Ëôü' },
                                { id: 2, time: '15:00', title: 'Âçó‰∫¨Êù±Ë∑ØÊ≠•Ë°åË°ó', desc: 'ÊÑüÂèóËÅñË™ïÊ∞£Ê∞õÔºåÈÄõË°óË≥ºÁâ©', location: 'Nanjing Road Pedestrian Street', icon: 'bag-shopping', addr: 'Âçó‰∫¨Êù±Ë∑Ø' },
                                { id: 3, time: '18:00', title: 'Â§ñÁÅòÂ§úÊôØÊôöÈ§ê', desc: 'Á±≥ÂÖ∂ÊûóÈ§êÂª≥‰∫´ÂèóËÅñË™ïÂ§ßÈ§êÔºåÊ¨£Ë≥ûËê¨ÂúãÂª∫ÁØâÁæ§ÁáàÂÖâ', location: 'The Bund', icon: 'wine-glass', addr: '‰∏≠Â±±Êù±‰∏ÄË∑Ø', img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/The_Bund_Shanghai_2019.jpg/1280px-The_Bund_Shanghai_2019.jpg' },
                                { id: 4, time: '21:00', title: 'Â§ñÁÅòÊ∫êËÅñË™ïÂ∏ÇÈõÜ', desc: 'ÁÜ±Á¥ÖÈÖí„ÄÅÁâπËâ≤Â∞èÂêÉ„ÄÅÊâãÂ∑•ËóùÂìÅ', location: 'Waitanyuan', icon: 'gifts', addr: 'ÂúìÊòéÂúíË∑Ø' }
                            ]
                        },
                        {
                            date: '12Êúà25Êó• (Âõõ)', dateShort: '25 DEC',
                            events: [
                                { id: 5, time: '10:00', title: '‰∏äÊµ∑Ëø™Â£´Â∞ºÊ®ÇÂúí', desc: 'ÂÖ®Â§©Ê≤âÊµ∏Âú®ËÅñË™ïÁ´•Ë©±‰∏ñÁïåÔºåËßÄË≥ûÁâπÂà•Â∑°ÈÅäÂíåÁÖôÁÅ´', location: 'Shanghai Disney Resort', icon: 'wand-magic-sparkles', addr: 'Êµ¶Êù±Êñ∞ÂçÄÂ∑ùÊ≤ôÊñ∞ÈéÆ', img: 'https://cdn1.parksmedia.wdprapps.disney.com/resize/mwImage/1/1600/900/75/dam/shdr/parks-and-tickets/shanghai-disneyland/shanghai-disneyland-enchanted-storybook-castle-mobile.jpg?1699660800000', weather: 'sunny', temp: '8¬∞C' },
                                { id: 6, time: '20:30', title: 'Ëø™Â£´Â∞ºÂ∞èÈéÆÊôöÈ§ê', desc: 'Ê®ÇÂúíÂ§ñÊúâÂ§öÁ®ÆÈ§êÂª≥ÈÅ∏Êìá', location: 'Disneytown', icon: 'burger', addr: 'Ëø™Â£´Â∞ºÂ∫¶ÂÅáÂçÄ' }
                            ]
                        },
                        {
                            date: '12Êúà26Êó• (‰∫î)', dateShort: '26 DEC',
                            events: [
                                { id: 7, time: '10:30', title: 'Ê≠¶Â∫∑Ë∑Ø & ÂÆâÁ¶èË∑Ø City Walk', desc: 'Ê¢ßÊ°êÊ®π‰∏ãÊº´Ê≠•ÔºåÊâìÂç°Á∂≤Á¥ÖÂ∫óÔºåÂèÉËßÄÊ≠¶Â∫∑Â§ßÊ®ì', location: 'Wukang Road', icon: 'shoe-prints', addr: 'Ê≠¶Â∫∑Ë∑Ø / ÂÆâÁ¶èË∑Ø', weather: 'cloudy', temp: '6¬∞C' },
                                { id: 8, time: '13:00', title: 'RAC Bar ÂçàÈ§ê', desc: '‰∫∫Ê∞£Ê≥ïÂºèÁÖéÈ§ÖÂíåÊó©ÂçàÈ§ê', location: 'RAC Bar', icon: 'utensils', addr: 'ÂÆâÁ¶èË∑Ø322Ëôü' },
                                { id: 9, time: '15:00', title: 'ÂèÉËßÄ Pradasphere II Â±ïË¶Ω (Â¶ÇÈÅ©Áî®)', desc: 'ÊàñÂú®Âë®ÈÇäÁâπËâ≤Ë≤∑ÊâãÂ∫óÈÄõË°ó', location: 'Start Museum', icon: 'palette', addr: 'ÁëûÂØßË∑Ø111Ëôü' },
                                { id: 10, time: '19:30', title: 'Speak Low ÈÖíÂêß', desc: 'Èö±ËóèÂºèÂú∞‰∏ãÈÖíÂêßÔºåÂìÅÂöêÁâπËâ≤ÈõûÂ∞æÈÖí', location: 'Speak Low', icon: 'martini-glass-citrus', addr: 'Âæ©Ëàà‰∏≠Ë∑Ø579Ëôü' }
                            ]
                        },
                        {
                            date: '12Êúà27Êó• (ÂÖ≠)', dateShort: '27 DEC',
                            events: [
                                { id: 11, time: '11:00', title: 'Ë±´Âúí & ÂüéÈöçÂªü', desc: 'ÊÑüÂèóÊ±üÂçóÂè§ÂÖ∏ÂúíÊûóÂíåÂÇ≥Áµ±Ê∞õÂúçÔºåÂìÅÂöêÂ∞èÁ±†ÂåÖ', location: 'Yu Garden', icon: 'place-of-worship', addr: 'Á¶è‰ΩëË∑Ø168Ëôü' },
                                { id: 12, time: '14:30', title: 'Êñ∞Â§©Âú∞ & ‰∏ÄÂ§ßÊúÉÂùÄ', desc: 'Áü≥Â∫´ÈñÄÂª∫ÁØâÁæ§ÔºåÊôÇÂ∞öËàáÊ≠∑Âè≤‰∫§Ëûç', location: 'Xintiandi', icon: 'building', addr: 'ËààÊ•≠Ë∑Ø' },
                                { id: 13, time: '17:00', title: 'Èô∏ÂÆ∂Âò¥‰∏â‰ª∂Â•óÊâìÂç°', desc: 'ËøëË∑ùÈõ¢ÊÑüÂèóÊë©Â§©Â§ßÊ®ìÔºåÂèØÈÅ∏ÊìáÁôªÈ†Ç', location: 'Lujiazui', icon: 'building-flag', addr: 'Èô∏ÂÆ∂Âò¥Áí∞Ë∑Ø' },
                                { id: 14, time: '19:00', title: 'Êµ¶Êù±ÁæéË°ìÈ§®ÁúãÂ±ï (ÂèØÈÅ∏)', desc: 'ÊàñÂú®Ê±üÈÇäÈ§êÂª≥‰∫´Áî®ÊôöÈ§ê', location: 'Museum of Art Pudong', icon: 'palette', addr: 'Êø±Ê±üÂ§ßÈÅì2777Ëôü', img: 'https://images.adsttc.com/media/images/6102/8d2c/f91c/8117/6500/001b/large_jpg/05_MAP_¬©Hufton_Crow.jpg?1627557157' }
                            ]
                        },
                         {
                            date: '12Êúà28Êó• (Êó•)', dateShort: '28 DEC',
                            events: [
                                { id: 15, time: '11:00', title: 'Check-out & ÂØÑÂ≠òË°åÊùé', desc: '‰∫´ÂèóÈÖíÂ∫óÊúÄÂæåÊôÇÂÖâ', location: 'The Shanghai EDITION', icon: 'hotel', addr: 'Âçó‰∫¨Êù±Ë∑Ø199Ëôü' },
                                { id: 16, time: '12:30', title: 'ÈùúÂÆâÂØ∫ÂïÜÂúàÊúÄÂæåÊé°Ë≥º', desc: '‰πÖÂÖâÁôæË≤®„ÄÅÂòâÈáå‰∏≠ÂøÉÁ≠â', location: 'Jingan Temple', icon: 'bag-shopping', addr: 'Âçó‰∫¨Ë•øË∑Ø1686Ëôü' },
                                { id: 17, time: '15:00', title: 'ÂâçÂæÄÊµ¶Êù±Ê©üÂ†¥', desc: 'È†êÁïôÂÖÖË∂≥ÊôÇÈñì', location: 'PVG Airport', icon: 'plane', addr: 'Êµ¶Êù±ÂúãÈöõÊ©üÂ†¥' }
                            ]
                        }
                    ]
                });

                const getWeatherIcon = (weather) => {
                    switch (weather) {
                        case 'sunny': return 'fa-solid fa-sun text-scheme1-neonGold';
                        case 'cloudy': return 'fa-solid fa-cloud text-scheme1-textSub';
                        case 'rainy': return 'fa-solid fa-cloud-rain text-scheme1-neonCyan';
                        default: return '';
                    }
                };

                const initSortable = () => {
                    if (sortableList.value) {
                        sortableInstance = new Sortable(sortableList.value, {
                            animation: 150,
                            ghostClass: 'sortable-ghost',
                            dragClass: 'sortable-drag',
                            handle: '.group', 
                            onEnd: (evt) => {
                                const movedItem = myData.value.days[currentDayIndex.value].events.splice(evt.oldIndex, 1)[0];
                                myData.value.days[currentDayIndex.value].events.splice(evt.newIndex, 0, movedItem);
                            }
                        });
                    }
                };

                 const openAddModal = () => {
                    isEditing.value = false;
                    editingEventIndex.value = null;
                    modalData.value = { time: '', title: '', desc: '', addr: '', img: '', location: '' };
                    showModal.value = true;
                };

                const openEditModal = (index) => {
                    isEditing.value = true;
                    editingEventIndex.value = index;
                    modalData.value = { ...myData.value.days[currentDayIndex.value].events[index] };
                    showModal.value = true;
                };

                const closeModal = () => {
                    showModal.value = false;
                };

                const saveEvent = () => {
                    if (!modalData.value.title) return alert('Ë´ãÂ°´ÂØ´Ê®ôÈ°å');
                    const newEvent = { ...modalData.value, id: Date.now(), location: modalData.value.title }; 
                    
                    if (isEditing.value) {
                        myData.value.days[currentDayIndex.value].events[editingEventIndex.value] = newEvent;
                    } else {
                        myData.value.days[currentDayIndex.value].events.push(newEvent);
                    }
                    closeModal();
                    nextTick(() => initSortable()); 
                };

                const deleteEvent = () => {
                    if (confirm('Á¢∫ÂÆöË¶ÅÂà™Èô§Ê≠§Ë°åÁ®ãÂóéÔºü')) {
                        myData.value.days[currentDayIndex.value].events.splice(editingEventIndex.value, 1);
                        closeModal();
                        nextTick(() => initSortable());
                    }
                };

                onMounted(() => {
                    nextTick(() => {
                        initSortable();
                    });
                });
                
                Vue.watch(currentDayIndex, () => {
                     if (sortableInstance) sortableInstance.destroy();
                     nextTick(() => initSortable());
                });

                return {
                    currentTab,
                    currentDayIndex,
                    myData,
                    getWeatherIcon,
                    sortableList,
                    showModal,
                    isEditing,
                    modalData,
                    openAddModal,
                    openEditModal,
                    closeModal,
                    saveEvent,
                    deleteEvent
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
